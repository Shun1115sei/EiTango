<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TOEFL Physics Flashcards</title>
    <style>
        :root {
            --primary-color: #5d6d7e;
            --success-color: #27ae60;
            --warning-color: #e67e22;
            --bg-color: #f4f7f6;
            --card-width: 350px;
            --card-height: 500px;
        }

        body {
            font-family: 'Helvetica Neue', Arial, 'Hiragino Kaku Gothic ProN', 'Hiragino Sans', Meiryo, sans-serif;
            background-color: var(--bg-color);
            margin: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            color: #2c3e50;
        }

        #header {
            margin-bottom: 20px;
            text-align: center;
        }

        .progress-info {
            font-size: 0.9rem;
            color: #7f8c8d;
            margin-top: 5px;
            font-weight: bold;
        }

        .card-container {
            width: var(--card-width);
            height: var(--card-height);
            perspective: 1000px;
            cursor: pointer;
        }

        .card {
            width: 100%;
            height: 100%;
            position: relative;
            transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            transform-style: preserve-3d;
        }

        .card.is-flipped {
            transform: rotateY(180deg);
        }

        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 15px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
            display: flex;
            flex-direction: column;
            padding: 35px;
            box-sizing: border-box;
            background: white;
            border: 1px solid #eee;
        }

        .card-front {
            justify-content: center;
            align-items: center;
            text-align: center;
        }

        .word {
            font-size: 2rem;
            font-weight: 800;
            color: #2c3e50;
            margin-bottom: 8px;
            word-break: break-word;
        }

        .phonetic {
            font-family: 'Lucida Sans Unicode', sans-serif;
            font-size: 1.1rem;
            color: #95a5a6;
            margin-bottom: 30px;
        }

        .audio-btn {
            background: #f8f9fa;
            border: 2px solid #eee;
            width: 65px;
            height: 65px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }

        .audio-btn:hover {
            background: #e9ecef;
            transform: scale(1.05);
        }

        .card-back {
            transform: rotateY(180deg);
            justify-content: flex-start;
            overflow-y: auto;
        }

        .translation {
            font-size: 1.5rem;
            font-weight: bold;
            color: #e74c3c;
            border-bottom: 3px solid #f1c40f;
            padding-bottom: 10px;
            margin-bottom: 20px;
            text-align: center;
        }

        .meaning-box {
            font-size: 1rem;
            line-height: 1.7;
            color: #34495e;
            text-align: left;
        }

        .controls {
            margin-top: 30px;
            display: flex;
            justify-content: center;
            gap: 15px;
            width: 100%;
            max-width: var(--card-width);
        }

        button.action-btn {
            flex: 1;
            min-width: 140px;
            padding: 14px 10px;
            border: none;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        button.action-btn:active {
            transform: translateY(2px);
            box-shadow: none;
        }

        .btn-learned { background-color: var(--success-color); }
        .btn-retry { background-color: var(--warning-color); }

        #complete-screen {
            display: none;
            text-align: center;
            animation: fadeIn 0.5s ease-out;
        }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        .restart-btn {
            padding: 15px 40px;
            font-size: 1.2rem;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            margin-top: 20px;
            transition: background 0.2s;
        }

        .restart-btn:hover { background: #2980b9; }

        @media (max-width: 400px) {
            :root {
                --card-width: 90vw;
                --card-height: 75vh;
            }
            .word { font-size: 1.8rem; }
        }
    </style>
</head>
<body>

    <div id="game-container">
        <div id="header">
            <h1 style="margin:0; font-size: 1.6rem; color: #2c3e50;">Physics Flashcards</h1>
            <div class="progress-info" id="progress-info">èª­ã¿è¾¼ã¿ä¸­...</div>
        </div>

        <div class="card-container" onclick="flipCard()">
            <div class="card" id="card">
                <div class="card-face card-front">
                    <div class="word" id="word-display">Word</div>
                    <div class="phonetic" id="phonetic-display">[phonetic]</div>
                    <button class="audio-btn" onclick="playAudio(event)">
                        <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="#2c3e50" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"></path></svg>
                    </button>
                </div>
                <div class="card-face card-back">
                    <div class="translation" id="translation-display">æ—¥æœ¬èªè¨³</div>
                    <div class="meaning-box" id="meaning-display"></div>
                </div>
            </div>
        </div>

        <div class="controls" id="controls">
            <button class="action-btn btn-retry" onclick="markAsRetry()">
                ğŸ”„ è‹¦æ‰‹ / ã¾ã 
            </button>
            <button class="action-btn btn-learned" onclick="markAsLearned()">
                âœ… è¦šãˆãŸ
            </button>
        </div>
    </div>

    <div id="complete-screen">
        <div style="font-size: 4rem;">ğŸš€</div>
        <h2>Physics Mastered!</h2>
        <p>ç‰©ç†å­¦ã®åŸºæœ¬èªå½™ã‚’ã™ã¹ã¦å®Œäº†ã—ã¾ã—ãŸã€‚</p>
        <button class="restart-btn" onclick="restart()">æœ€åˆã‹ã‚‰ã‚„ã‚Šç›´ã™</button>
    </div>

    <script>
        const wordData = [
            // ç”»åƒ1æšç›® (01-13)
            { "Word": "mass", "Phonetic": "[mÃ¦s]", "Translation": "è³ªé‡", "Meaning": "ãã®ç‰©ãŒã€Œã©ã‚Œãã‚‰ã„è©°ã¾ã£ã¦ã„ã‚‹ã‹ã€ã‚’è¡¨ã™é‡ã€‚<br>åœ°çƒã§ã‚‚æœˆã§ã‚‚å¤‰ã‚ã‚‰ãªã„ã€ç‰©è³ªãã®ã‚‚ã®ã®é‡ã•ã®æ­£ä½“ã§ã™ã€‚" },
            { "Word": "acceleration", "Phonetic": "[Ã¦ksÃ¨lÉ™rÃ¨iÊƒÉ™n]", "Translation": "åŠ é€Ÿåº¦", "Meaning": "ã‚¹ãƒ”ãƒ¼ãƒ‰ãŒã©ã‚Œãã‚‰ã„ã®å‹¢ã„ã§ä¸ŠãŒã£ã¦ã„ã‚‹ã‹ï¼ˆã¾ãŸã¯ä¸‹ãŒã£ã¦ã„ã‚‹ã‹ï¼‰ã®å¤‰åŒ–ç‡ã®ã“ã¨ã€‚" },
            { "Word": "friction", "Phonetic": "[frÃ­kÊƒÉ™n]", "Translation": "æ‘©æ“¦", "Meaning": "ç‰©ã¨ç‰©ãŒã“ã™ã‚Œã‚‹æ™‚ã«ã€å‹•ã“ã†ã¨ã™ã‚‹åŠ›ã‚’ã‚¸ãƒ£ãƒã™ã‚‹ã€Œãƒ–ãƒ¬ãƒ¼ã‚­ã€ã®ã‚ˆã†ãªåŠ›ã€‚" },
            { "Word": "velocity", "Phonetic": "[vÉ™lÃ¡isÉ™ti]", "Translation": "é€Ÿã•", "Meaning": "å˜ãªã‚‹ã‚¹ãƒ”ãƒ¼ãƒ‰ã ã‘ã§ãªãã€ã€Œã©ã®æ–¹å‘ã«ã€é€²ã‚“ã§ã„ã‚‹ã‹ã¨ã„ã†æƒ…å ±ã‚‚ã‚»ãƒƒãƒˆã«ãªã£ãŸé€Ÿåº¦ã®ã“ã¨ã€‚" },
            { "Word": "momentum", "Phonetic": "[moumÃ©ntÉ™m]", "Translation": "é‹å‹•é‡", "Meaning": "ã€Œé‡ã• Ã— ã‚¹ãƒ”ãƒ¼ãƒ‰ã€ã§æ±ºã¾ã‚‹ã€å‹•ã„ã¦ã„ã‚‹ç‰©ã®ã€Œå‹¢ã„ã€ã®ã“ã¨ã€‚" },
            { "Word": "resistance", "Phonetic": "[rizÃ­stÉ™ns]", "Translation": "æŠµæŠ—", "Meaning": "é›»æ°—ãŒæµã‚Œã‚‹ã®ã‚’ã‚¸ãƒ£ãƒã™ã‚‹ã€Œé€šã›ã‚“ã¼ã€ã®åŠ›ã€‚ã“ã‚ŒãŒã‚ã‚‹ã‹ã‚‰ç†±ãŒç™ºç”Ÿã—ãŸã‚Šã—ã¾ã™ã€‚" },
            { "Word": "ohm", "Phonetic": "[oum]", "Translation": "ã‚ªãƒ¼ãƒ ", "Meaning": "é›»æ°—ã®é€šã‚Šã«ãã•ï¼ˆæŠµæŠ—ï¼‰ã‚’è¡¨ã™å˜ä½ã€‚è¨˜å·ã¯ Î© ã§ã™ã€‚" },
            { "Word": "electric current", "Phonetic": "[---]", "Translation": "é›»æµ", "Meaning": "å›è·¯ã®ä¸­ã‚’æµã‚Œã‚‹é›»æ°—ã®ã€Œå·ã€ã®ã‚ˆã†ãªæµã‚Œãã®ã‚‚ã®ã€‚" },
            { "Word": "in series", "Phonetic": "[---]", "Translation": "ç›´åˆ—ã§", "Meaning": "é›»çƒãªã©ã‚’ä¸€åˆ—ã«ã€æ•°ç ã¤ãªãã«ã™ã‚‹ã“ã¨ã€‚ä¸€æœ¬é“ãªã®ã§ã€ä¸€ã¤åˆ‡ã‚Œã‚‹ã¨å…¨éƒ¨æ¶ˆãˆã¾ã™ã€‚" },
            { "Word": "in parallel", "Phonetic": "[---]", "Translation": "ä¸¦åˆ—ã§", "Meaning": "å›è·¯ã‚’æåˆ†ã‹ã‚Œã•ã›ã¦ã¤ãªãã“ã¨ã€‚å®¶ã®ä¸­ã®ã‚³ãƒ³ã‚»ãƒ³ãƒˆãªã©ã¯ã“ã®å½¢ã§ã™ã€‚" },
            { "Word": "inertia", "Phonetic": "[inÉ™ÌËrÊƒÉ™]", "Translation": "æ…£æ€§", "Meaning": "ã€Œä»Šã®çŠ¶æ…‹ã‚’ç¶šã‘ãŸã„ï¼ã€ã¨ã„ã†æ€§è³ªã€‚å‹•ã„ã¦ã„ã‚‹ç‰©ã¯å‹•ãç¶šã‘ã€æ­¢ã¾ã£ã¦ã„ã‚‹ç‰©ã¯æ­¢ã¾ã‚Šç¶šã‘ã‚ˆã†ã¨ã—ã¾ã™ã€‚" },
            { "Word": "locomotion", "Phonetic": "[lÃ²ukÉ™mÃ³uÊƒÉ™n]", "Translation": "ç§»å‹•ï¼ˆåŠ›ï¼‰", "Meaning": "ã‚ã‚‹å ´æ‰€ã‹ã‚‰åˆ¥ã®å ´æ‰€ã¸ç§»å‹•ã™ã‚‹ã“ã¨ã€ã¾ãŸã¯ãã®ãŸã‚ã®æ¨é€²åŠ›ã€‚" },
            { "Word": "convection", "Phonetic": "[kÉ™nvÃ©kÊƒÉ™n]", "Translation": "å¯¾æµ", "Meaning": "ç©ºæ°—ã‚„æ°´ãŒæ¸©ã¾ã£ã¦è»½ããªã‚Šã€ãã‚‹ãã‚‹å›ã‚‹ã“ã¨ã§ç†±ãŒä¼ã‚ã‚‹ç¾è±¡ã€‚" },
            
            // ç”»åƒ2æšç›® (14-30)
            { "Word": "trajectory", "Phonetic": "[trÉ™dÊ’Ã©ktÉ™ri]", "Translation": "è»Œé“ã€å¼¾é“", "Meaning": "æŠ•ã’ãŸãƒœãƒ¼ãƒ«ã‚„ãƒ­ã‚±ãƒƒãƒˆãŒç©ºä¸­ã«æãã€Œé€šã‚Šé“ã€ã®ã“ã¨ã€‚" },
            { "Word": "horizontal", "Phonetic": "[hÉ”Ì€ËrÉ™zÃ¡ntl]", "Translation": "æ°´å¹³ã®", "Meaning": "åœ°é¢ã¨å¹³è¡Œãªã€çœŸæ¨ªã®æ–¹å‘ã€‚åœ°å¹³ç·šï¼ˆhorizonï¼‰ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã€‚" },
            { "Word": "vertical", "Phonetic": "[vÉ™ÌËrtikÉ™l]", "Translation": "å‚ç›´ã®", "Meaning": "åœ°é¢ã«å¯¾ã—ã¦ã¾ã£ã™ãç«‹ã£ãŸã€ä¸Šä¸‹ã®æ–¹å‘ã€‚" },
            { "Word": "wave", "Phonetic": "[weiv]", "Translation": "æ³¢å‹•", "Meaning": "ãƒ—ãƒ«ãƒ—ãƒ«ã—ãŸæºã‚ŒãŒã€æ¬¡ã‹ã‚‰æ¬¡ã¸ã¨ä¼ã‚ã£ã¦ã„ãç¾è±¡ã€‚å…‰ã‚„éŸ³ã‚‚ã“ã‚Œã®ä¸€ç¨®ã€‚" },
            { "Word": "wavelength", "Phonetic": "[wÃ©ivlÃ¨Å‹kÎ¸]", "Translation": "æ³¢é•·", "Meaning": "æ³¢ã®å±±ã‹ã‚‰æ¬¡ã®å±±ã¾ã§ã®ã€Œä¸€æ­©åˆ†ã€ã®é•·ã•ã€‚ã“ã‚Œã§è‰²ã‚„éŸ³ã®é«˜ã•ãŒæ±ºã¾ã‚Šã¾ã™ã€‚" },
            { "Word": "frequency", "Phonetic": "[frÃ­ËkwÉ™nsi]", "Translation": "å‘¨æ³¢æ•°", "Meaning": "1ç§’é–“ã«ä½•å›ãƒ—ãƒ«ãƒ—ãƒ«æºã‚Œã‚‹ã‹ã¨ã„ã†å›æ•°ã€‚" },
            { "Word": "electromagnetic", "Phonetic": "[ilÃ¨ktroumÃ¦É¡nÃ©tik]", "Translation": "é›»ç£ã®", "Meaning": "é›»æ°—ã¨ç£çŸ³ã®åŠ›ãŒçµ„ã¿åˆã‚ã•ã£ãŸæ€§è³ªã€‚é›»æ³¢ã‚„å…‰ãªã©ã®æ­£ä½“ã§ã™ã€‚" },
            { "Word": "solar radiation", "Phonetic": "[---]", "Translation": "å¤ªé™½æ”¾å°„", "Meaning": "å¤ªé™½ã‹ã‚‰å…‰ã‚„ç†±ã®ã‚¨ãƒãƒ«ã‚®ãƒ¼ãŒã€æ³¢ã¨ã—ã¦åœ°çƒã«é£›ã‚“ã§ãã‚‹ã“ã¨ã€‚" },
            { "Word": "spectrum", "Phonetic": "[spÃ©ktrÉ™m]", "Translation": "ã‚¹ãƒšã‚¯ãƒˆãƒ«", "Meaning": "å…‰ã‚’è™¹ã®ã‚ˆã†ã«ã€æ³¢é•·ï¼ˆè‰²ã®é †ç•ªï¼‰ã”ã¨ã«ä¸¦ã¹ãŸã‚‚ã®ã€‚" },
            { "Word": "ultraviolet", "Phonetic": "[ÊŒÌ€ltrÉ™vÃ¡iÉ™lit]", "Translation": "ç´«å¤–ç·šã®", "Meaning": "ç´«è‰²ã®å¤–å´ã«ã‚ã‚‹ã€ç›®ã«ã¯è¦‹ãˆãªã„ã‘ã‚Œã©æ—¥ç„¼ã‘ã®åŸå› ã«ãªã‚‹å¼·ã„å…‰ã€‚" },
            { "Word": "infrared", "Phonetic": "[Ã¬nfrÉ™rÃ©d]", "Translation": "èµ¤å¤–ç·šã®", "Meaning": "èµ¤è‰²ã®å¤–å´ã«ã‚ã‚‹ã€ç›®ã«ã¯è¦‹ãˆãªã„ã‘ã‚Œã©æ¸©ã‹ã•ã‚’æ„Ÿã˜ã‚‹å…‰ã€‚ãƒªãƒ¢ã‚³ãƒ³ãªã©ã«ä½¿ã‚ã‚Œã¾ã™ã€‚" },
            { "Word": "sound wave", "Phonetic": "[---]", "Translation": "éŸ³æ³¢", "Meaning": "ç©ºæ°—ãŒéœ‡ãˆã¦ã€ãã®éœ‡ãˆãŒè€³ã«å±Šãã“ã¨ã§èã“ãˆã‚‹æ³¢ã€‚" },
            { "Word": "radio wave", "Phonetic": "[---]", "Translation": "é›»æ³¢", "Meaning": "æƒ…å ±ã‚’é‹ã¶ãŸã‚ã«ä½¿ã‚ã‚Œã‚‹ç›®ã«è¦‹ãˆãªã„æ³¢ã€‚ã‚¹ãƒãƒ›ã‚„ãƒ†ãƒ¬ãƒ“ã«ä½¿ã‚ã‚Œã¾ã™ã€‚" },
            { "Word": "light wave", "Phonetic": "[---]", "Translation": "å…‰æ³¢", "Meaning": "å…‰ãŒæ³¢ã¨ã—ã¦ä¼ã‚ã£ã¦ã„ã‚‹çŠ¶æ…‹ã®ã“ã¨ã€‚" },
            { "Word": "white noise", "Phonetic": "[---]", "Translation": "ãƒ›ãƒ¯ã‚¤ãƒˆãƒã‚¤ã‚º", "Meaning": "ã™ã¹ã¦ã®é«˜ã•ã®éŸ³ãŒæ··ã–ã£ãŸã€Œã‚·ãƒ£ãƒ¼ã€ã¨ã„ã†ç ‚åµã®ã‚ˆã†ãªéŸ³ã€‚" },
            { "Word": "universal gravitation", "Phonetic": "[---]", "Translation": "ä¸‡æœ‰å¼•åŠ›", "Meaning": "å®‡å®™ã«ã‚ã‚‹ã™ã¹ã¦ã®ç‰©ä½“ãŒã€ãŠäº’ã„ã‚’ã€ŒãŠã„ã§ã€ã¨å¼•ãåˆã£ã¦ã„ã‚‹åŠ›ã€‚" },
            { "Word": "law of conservation of momentum", "Phonetic": "[---]", "Translation": "é‹å‹•é‡ä¿å­˜ã®æ³•å‰‡", "Meaning": "ç‰©ãŒã¶ã¤ã‹ã£ã¦ã‚‚ã€å…¨ä½“ã®å‹¢ã„ï¼ˆé‹å‹•é‡ï¼‰ã®åˆè¨ˆã¯å¤‰ã‚ã‚‰ãªã„ã¨ã„ã†å®‡å®™ã®æ±ºã¾ã‚Šã€‚" }
        ];

        let activeWords = [...wordData];
        let currentIndex = 0;

        const cardEl = document.getElementById('card');
        const wordEl = document.getElementById('word-display');
        const phoneticEl = document.getElementById('phonetic-display');
        const translationEl = document.getElementById('translation-display');
        const meaningEl = document.getElementById('meaning-display');
        const progressEl = document.getElementById('progress-info');
        const gameContainer = document.getElementById('game-container');
        const completeScreen = document.getElementById('complete-screen');

        let synth = window.speechSynthesis;
        let voices = [];

        function loadVoices() {
            voices = synth.getVoices();
        }
        loadVoices();
        if (speechSynthesis.onvoiceschanged !== undefined) {
            speechSynthesis.onvoiceschanged = loadVoices;
        }

        function updateCard() {
            if (activeWords.length === 0) {
                showComplete();
                return;
            }
            const current = activeWords[currentIndex];
            wordEl.textContent = current.Word;
            phoneticEl.textContent = current.Phonetic;
            translationEl.textContent = current.Translation;
            meaningEl.innerHTML = current.Meaning;
            
            cardEl.classList.remove('is-flipped');
            progressEl.textContent = `æ®‹ã‚Š: ${activeWords.length} æš / å…¨ ${wordData.length} æš`;
        }

        function flipCard() {
            cardEl.classList.toggle('is-flipped');
        }

        function playAudio(event) {
            event.stopPropagation();
            const text = activeWords[currentIndex].Word;
            const utter = new SpeechSynthesisUtterance(text);
            const preferredVoices = ["Google US English", "Samantha", "Alex", "Microsoft Zira"];
            const voice = voices.find(v => preferredVoices.some(p => v.name.includes(p))) || voices.find(v => v.lang.startsWith('en'));
            if (voice) utter.voice = voice;
            utter.lang = 'en-US';
            utter.rate = 0.85; // ç‰©ç†ç”¨èªã¯é›£ã—ã„ã®ã§å°‘ã—ã‚†ã£ãã‚Šã‚ã«
            synth.speak(utter);
        }

        function markAsLearned() {
            activeWords.splice(currentIndex, 1);
            if (currentIndex >= activeWords.length) currentIndex = 0;
            updateCard();
        }

        function markAsRetry() {
            // ç¾åœ¨ã®å˜èªã‚’æœ«å°¾ã«å›ã—ã¦æ¬¡ã¸
            currentIndex = (currentIndex + 1) % activeWords.length;
            updateCard();
        }

        function showComplete() {
            gameContainer.style.display = 'none';
            completeScreen.style.display = 'block';
        }

        function restart() {
            activeWords = [...wordData];
            currentIndex = 0;
            gameContainer.style.display = 'block';
            completeScreen.style.display = 'none';
            updateCard();
        }

        window.onload = updateCard;
    </script>
</body>
</html>
